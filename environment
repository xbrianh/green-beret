# Resolve the location of this file and set GREEN_BERET_HOME to the root
SOURCE="${BASH_SOURCE[0]}"
while [ -h "$SOURCE" ] ; do SOURCE="$(readlink "$SOURCE")"; done
export GREEN_BERET_HOME="$(cd -P "$(dirname "$SOURCE")" && pwd)"

EXPORT_ENV_VARS_TO_TERRAFORM_ARRAY=(
    AWS_DEFAULT_REGION
    GCP_DEFAULT_REGION
    GREEN_BERET_PLATFORM
    GREEN_BERET_INSTANCE_NAME
    GREEN_BERET_RUN_INSTANCE_SETUP
    GREEN_BERET_AWS_INSTANCE_TYPE
    GREEN_BERET_INFRA_TAGS
    GREEN_BERET_AWS_KEY_PAIR_NAME
    GREEN_BERET_AWS_KEY_PAIR_SECRET_ID
    GREEN_BERET_GCP_TAGS
    GREEN_BERET_GCP_FIREWALL_TAG
    GREEN_BERET_GCP_INSTANCE_TYPE
    GREEN_BERET_GCP_BOOT_DISK_IMAGE
    GREEN_BERET_GCP_SERVICE_ACCOUNT
    GREEN_BERET_GCP_SERVICE_ACCOUNT_SCOPES
    GREEN_BERET_GCP_PUBLIC_KEY_FILEPATH
    GREEN_BERET_GCP_PRIVATE_KEY_FILEPATH
    GREEN_BERET_GCP_ZONE
)

set -a
EXPORT_ENV_VARS_TO_TERRAFORM=${EXPORT_ENV_VARS_TO_TERRAFORM_ARRAY[*]}
AWS_SDK_LOAD_CONFIG=1 # Needed for Terraform to correctly use AWS assumed roles
GREEN_BERET_RUN_INSTANCE_SETUP="true"
set +a
