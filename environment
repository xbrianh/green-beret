
# Resolve the location of this file and set GREEN_BERET_HOME to the root
SOURCE="${BASH_SOURCE[0]}"
while [ -h "$SOURCE" ] ; do SOURCE="$(readlink "$SOURCE")"; done
export GREEN_BERET_HOME="$(cd -P "$(dirname "$SOURCE")" && pwd)"

EXPORT_ENV_VARS_TO_TERRAFORM_ARRAY=(
    AWS_DEFAULT_REGION
    GREEN_BERET_INSTANCE_NAME
    GREEN_BERET_INFRA_TAGS
    GREEN_BERET_AWS_KEY_PAIR_NAME
    GREEN_BERET_AWS_KEY_PAIR_SECRET_ID
)

set -a
EXPORT_ENV_VARS_TO_TERRAFORM=${EXPORT_ENV_VARS_TO_TERRAFORM_ARRAY[*]}
AWS_DEFAULT_REGION="us-east-1"
TERRAFORM_STATE_BUCKET="terraform-907366600011-${AWS_DEFAULT_REGION}"
TERRAFORM_STATE_PREFIX="green-beret"
GREEN_BERET_AWS_KEY_PAIR_NAME="xbrianh-green-beret"
GREEN_BERET_AWS_KEY_PAIR_SECRET_ID="amorphous-industries/xbrianh/green-beret/aws-private-key"
GREEN_BERET_INSTANCE_NAME="green-beret"
GREEN_BERET_INFRA_TAGS='{"service": "green-beret", "owner": "brian.hannafious@gmail.com"}'
AWS_SDK_LOAD_CONFIG=1 # Needed for Terraform to correctly use AWS assumed roles
set +a
